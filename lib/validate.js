!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],t):"object"==typeof exports?exports.validatejs=t(require("lodash")):e.validatejs=t(e._)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Max=t.Min=t.Email=t.Type=t.Required=void 0;var u=n(6),a=r(u),o=n(7),i=r(o),f=n(8),l=r(f),c=n(9),s=r(c),d=n(10),p=r(d);t.Required=a.default,t.Type=i.default,t.Email=l.default,t.Min=s.default,t.Max=p.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t){r(this,e),this._options=t,this._errorMsg=""}return u(e,[{key:"name",value:function(){return"Length"}},{key:"execute",value:function(e){var t=this._options,n=t.min,r=t.max;return o.default.isArray(e)?(this._errorMsg="length of "+this._options,n?e.length>=n:e.length<=r):o.default.isNumber(e)?n?e>=n:e<=r:!o.default.isString(e)||(n?e.length>=n:e.length<=r)}},{key:"error",value:function(){return this._errorMsg}}]),e}();t.default=i},function(e,t,n){"use strict";var r=n(4);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),f=r(i),l=n(5),c=r(l),s=n(11),d=r(s),p=n(1),v=function(){function e(){a(this,e)}return o(e,null,[{key:"check",value:function(e,t,n,r){var a={};return f.default.forEach(t,function(t,n){var r=t.indexOf("required")>-1,o=n.indexOf("*")>-1;if(r||f.default.get(e,n)||o){if(r&&!f.default.get(e,n)&&!o)return void(a[n]=[new p.Required]);a[n]=[];var i=c.default.parseString(t);f.default.forEach(i,function(t){if(o){var r=n.replace(".*","");if(f.default.isArray(f.default.get(e,r))){var i=f.default.map(f.default.get(e,r),function(e){return t.execute(e)});0===f.default.filter(i,function(e){return!e}).length||(a[n]=[].concat(u(a[n]),[t]))}}else t.execute(f.default.get(e,n))||(a[n]=[].concat(u(a[n]),[t]))})}}),new d.default(a,n,r)}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(1),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),l=function(){function e(){r(this,e)}return u(e,null,[{key:"parseString",value:function(e){return e?o.default.chain(e).split(",").map(function(e){var t=e.trim().split(":"),n=t[1]?t[1].trim():null;return{rule:t[0].trim(),args:n}}).map(function(e){var t=e.rule,n=e.args;return"required"===t?new f.Required:"min"===t?new f.Min(n):"max"===t?new f.Max(n):"type"===t?new f.Type(n):"email"===t?new f.Email:null}).value():[]}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return u(e,[{key:"name",value:function(){return"Required"}},{key:"execute",value:function(e){return!(!e||""===e)}},{key:"error",value:function(){return"is required"}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t){r(this,e),this._type=t}return u(e,[{key:"name",value:function(){return"Type"}},{key:"execute",value:function(e){switch(this._type){case"string":return o.default.isString(e);case"int":return o.default.isInteger(e);case"number":return o.default.isNumber(e);case"alphanum":return new RegExp(/^[a-z0-9]+$/i).test(e);case"array":return o.default.isArray(e);case"object":return o.default.isObject(e)&&!o.default.isArray(e);case"bool":return o.default.isBoolean(e);default:return!1}}},{key:"error",value:function(){return"of type "+this._type}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return u(e,[{key:"name",value:function(){return"NotBlank"}},{key:"execute",value:function(e){return!(!e||""===e)&&new RegExp(/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(e)}},{key:"error",value:function(){return"valid"}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t){r(this,e),this._options=t,this._errorMsg=""}return u(e,[{key:"name",value:function(){return"Min"}},{key:"execute",value:function(e){return new o.default({min:this._options}).execute(e)}},{key:"error",value:function(){return this._errorMsg}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t){r(this,e),this._options=t,this._errorMsg=""}return u(e,[{key:"name",value:function(){return"Max"}},{key:"execute",value:function(e){return new o.default({max:this._options}).execute(e)}},{key:"error",value:function(){return this._errorMsg}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this._errors=t,this._customFieldNames=n,this._customErrorMessages=u}return u(e,[{key:"failed",value:function(){return!o.default.isEmpty(this._errors)}},{key:"errors",value:function(){var e=this,t={};return o.default.forEach(this._errors,function(n,r){n.length>0&&(t[r]=e._formatErrorsForField(r,n))}),t}},{key:"_formatErrorsForField",value:function(e,t){var n=o.default.filter(t,function(e){return!o.default.isUndefined(e)}),r=o.default.sortBy(n,function(e){return"Required"===e.name()}).reverse(),u=r.length,a=o.default.map(r,function(e){return e.error()}),i=o.default.join(a,2===u?" and ":", "),f="Required"===r[0].name(),l=f?" ":" should be ";if(o.default.get(this._customErrorMessages,e))return o.default.get(this._customErrorMessages,e);var c=this._formatFieldName(e);return c+=l,c+=i,t.length>=2&&f&&(c=c.replace("and","and should be")),c}},{key:"_formatFieldName",value:function(e){return o.default.get(this._customFieldNames,e)?o.default.get(this._customFieldNames,e):e.indexOf("*")>-1?"Elements in "+e.replace(".*",""):o.default.upperFirst(e).split(/(?=[A-Z])/).join(" ")}}]),e}();t.default=i}])});