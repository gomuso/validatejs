!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],n):"object"==typeof exports?exports.validatejs=n(require("lodash")):e.validatejs=n(e._)}(this,function(e){return function(e){function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=3)}([function(n,t){n.exports=e},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Max=n.Min=n.Email=n.Type=n.Required=void 0;var u=t(6),a=r(u),o=t(7),i=r(o),f=t(8),l=r(f),c=t(9),s=r(c),d=t(10),p=r(d);n.Required=a.default,n.Type=i.default,n.Email=l.default,n.Min=s.default,n.Max=p.default},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(n){r(this,e),this._options=n,this._errorMsg=""}return u(e,[{key:"name",value:function(){return"Length"}},{key:"execute",value:function(e){var n=this._options,t=n.min,r=n.max;return o.default.isArray(e)?(this._errorMsg="length of "+this._options,t?e.length>=t:e.length<=r):o.default.isNumber(e)?t?e>=t:e<=r:!o.default.isString(e)||(t?e.length>=t:e.length<=r)}},{key:"error",value:function(){return this._errorMsg}}]),e}();n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(4),u=function(e){return e&&e.__esModule?e:{default:e}}(r);n.default=u.default},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=t(0),f=r(i),l=t(5),c=r(l),s=t(11),d=r(s),p=t(1),y=function(){function e(){a(this,e)}return o(e,null,[{key:"check",value:function(e,n,t){var r={};return f.default.forEach(n,function(n,t){var a=n.indexOf("required")>-1,o=t.indexOf("*")>-1;if(a||f.default.get(e,t)||o){if(a&&!f.default.get(e,t)&&!o)return void(r[t]=[new p.Required]);r[t]=[];var i=c.default.parseString(n);f.default.forEach(i,function(n){if(o){var a=t.replace(".*","");if(f.default.isArray(f.default.get(e,a))){var i=f.default.map(f.default.get(e,a),function(e){return n.execute(e)});0===f.default.filter(i,function(e){return!e}).length||(r[t]=[].concat(u(r[t]),[n]))}}else n.execute(f.default.get(e,t))||(r[t]=[].concat(u(r[t]),[n]))})}}),new d.default(r,t)}}]),e}();n.default=y},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=t(1),f=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(i),l=function(){function e(){r(this,e)}return u(e,null,[{key:"parseString",value:function(e){return e?o.default.chain(e).split(",").map(function(e){var n=e.trim().split(":");return{rule:n[0],args:n[1]}}).map(function(e){var n=e.rule,t=e.args;return"required"===n?new f.Required:"min"===n?new f.Min(t):"max"===n?new f.Max(t):"type"===n?new f.Type(t):"email"===n?new f.Email:null}).value():[]}}]),e}();n.default=l},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(){r(this,e)}return u(e,[{key:"name",value:function(){return"Required"}},{key:"execute",value:function(e){return!(!e||""===e)}},{key:"error",value:function(){return"is required"}}]),e}();n.default=a},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(n){r(this,e),this._type=n}return u(e,[{key:"name",value:function(){return"Type"}},{key:"execute",value:function(e){switch(this._type){case"string":return o.default.isString(e);case"int":return o.default.isInteger(e);case"number":return o.default.isNumber(e);case"alphanum":return new RegExp(/^[a-z0-9]+$/i).test(e);case"array":return o.default.isArray(e);case"object":return o.default.isObject(e)&&!o.default.isArray(e);case"bool":return o.default.isBoolean(e);default:return!1}}},{key:"error",value:function(){return"of type "+this._type}}]),e}();n.default=i},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(){r(this,e)}return u(e,[{key:"name",value:function(){return"NotBlank"}},{key:"execute",value:function(e){return!(!e||""===e)&&new RegExp(/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(e)}},{key:"error",value:function(){return"valid"}}]),e}();n.default=a},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(2),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(n){r(this,e),this._options=n,this._errorMsg=""}return u(e,[{key:"name",value:function(){return"Min"}},{key:"execute",value:function(e){return new o.default({min:this._options}).execute(e)}},{key:"error",value:function(){return this._errorMsg}}]),e}();n.default=i},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(2),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(n){r(this,e),this._options=n,this._errorMsg=""}return u(e,[{key:"name",value:function(){return"Max"}},{key:"execute",value:function(e){return new o.default({max:this._options}).execute(e)}},{key:"error",value:function(){return this._errorMsg}}]),e}();n.default=i},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this._errors=n,this._options=t}return u(e,[{key:"failed",value:function(){return!o.default.isEmpty(this._errors)}},{key:"errors",value:function(){var e=this,n={};return o.default.forEach(this._errors,function(t,r){t.length>0&&(n[r]=e._formatErrorsForField(r,t))}),n}},{key:"_formatErrorsForField",value:function(e,n){var t=o.default.filter(n,function(e){return!o.default.isUndefined(e)}),r=o.default.sortBy(t,function(e){return"Required"===e.name()}).reverse(),u=r.length,a=o.default.map(r,function(e){return e.error()}),i=o.default.join(a,2===u?" and ":", "),f="Required"===r[0].name(),l=f?" ":" should be ",c=this._formatFieldName(e);return c+=l,c+=i,n.length>=2&&f&&(c=c.replace("and","and should be")),c}},{key:"_formatFieldName",value:function(e){return o.default.get(this._options,e)?o.default.get(this._options,e):e.indexOf("*")>-1?"Elements in "+e.replace(".*",""):o.default.upperFirst(e).split(/(?=[A-Z])/).join(" ")}}]),e}();n.default=i}])});